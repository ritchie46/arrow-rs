<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Typed column writer for a primitive column."><title>ColumnWriterImpl in parquet::column::writer - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-9ee3a5e31a2afa3e.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="parquet" data-themes="" data-resource-suffix="" data-rustdoc-version="1.75.0-nightly (2f1bd0729 2023-10-27)" data-channel="nightly" data-search-js="search-8fbf244ebcf71464.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../../static.files/main-5f34af1a0ee6bacd.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../parquet/index.html">parquet</a><span class="version">48.0.0</span></h2></div><h2 class="location"><a href="#">ColumnWriterImpl</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#fields">Fields</a></h3><ul class="block"><li><a href="#structfield.codec">codec</a></li><li><a href="#structfield.column_index_builder">column_index_builder</a></li><li><a href="#structfield.column_metrics">column_metrics</a></li><li><a href="#structfield.compressor">compressor</a></li><li><a href="#structfield.data_pages">data_pages</a></li><li><a href="#structfield.def_levels_sink">def_levels_sink</a></li><li><a href="#structfield.descr">descr</a></li><li><a href="#structfield.encoder">encoder</a></li><li><a href="#structfield.encodings">encodings</a></li><li><a href="#structfield.offset_index_builder">offset_index_builder</a></li><li><a href="#structfield.page_metrics">page_metrics</a></li><li><a href="#structfield.page_writer">page_writer</a></li><li><a href="#structfield.props">props</a></li><li><a href="#structfield.rep_levels_sink">rep_levels_sink</a></li><li><a href="#structfield.statistics_enabled">statistics_enabled</a></li></ul><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.add_data_page">add_data_page</a></li><li><a href="#method.close">close</a></li><li><a href="#method.dict_fallback">dict_fallback</a></li><li><a href="#method.encode_levels_v1">encode_levels_v1</a></li><li><a href="#method.encode_levels_v2">encode_levels_v2</a></li><li><a href="#method.flush_data_pages">flush_data_pages</a></li><li><a href="#method.get_descriptor">get_descriptor</a></li><li><a href="#method.get_estimated_total_bytes">get_estimated_total_bytes</a></li><li><a href="#method.get_total_bytes_written">get_total_bytes_written</a></li><li><a href="#method.get_total_rows_written">get_total_rows_written</a></li><li><a href="#method.new">new</a></li><li><a href="#method.should_add_data_page">should_add_data_page</a></li><li><a href="#method.should_dict_fallback">should_dict_fallback</a></li><li><a href="#method.truncate_max_value">truncate_max_value</a></li><li><a href="#method.truncate_min_value">truncate_min_value</a></li><li><a href="#method.update_column_offset_index">update_column_offset_index</a></li><li><a href="#method.update_metrics_for_page">update_metrics_for_page</a></li><li><a href="#method.write_batch">write_batch</a></li><li><a href="#method.write_batch_internal">write_batch_internal</a></li><li><a href="#method.write_batch_with_statistics">write_batch_with_statistics</a></li><li><a href="#method.write_column_metadata">write_column_metadata</a></li><li><a href="#method.write_data_page">write_data_page</a></li><li><a href="#method.write_dictionary_page">write_dictionary_page</a></li><li><a href="#method.write_mini_batch">write_mini_batch</a></li></ul></section><h2><a href="index.html">In parquet::column::writer</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../../index.html">parquet</a>::<wbr><a href="../index.html">column</a>::<wbr><a href="index.html">writer</a>::<wbr><a class="type" href="#">ColumnWriterImpl</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../../src/parquet/column/writer/mod.rs.html#202">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type ColumnWriterImpl&lt;'a, T&gt; = <a class="struct" href="struct.GenericColumnWriter.html" title="struct parquet::column::writer::GenericColumnWriter">GenericColumnWriter</a>&lt;'a, <a class="struct" href="encoder/struct.ColumnValueEncoderImpl.html" title="struct parquet::column::writer::encoder::ColumnValueEncoderImpl">ColumnValueEncoderImpl</a>&lt;T&gt;&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Typed column writer for a primitive column.</p>
</div></details><h2 id="aliased-type" class="small-section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct ColumnWriterImpl&lt;'a, T&gt; {<details class="toggle type-contents-toggle"><summary class="hideme"><span>Show 15 fields</span></summary>
    descr: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../schema/types/struct.ColumnDescriptor.html" title="struct parquet::schema::types::ColumnDescriptor">ColumnDescriptor</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    props: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../file/properties/struct.WriterProperties.html" title="struct parquet::file::properties::WriterProperties">WriterProperties</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    statistics_enabled: <a class="enum" href="../../file/properties/enum.EnabledStatistics.html" title="enum parquet::file::properties::EnabledStatistics">EnabledStatistics</a>,
    page_writer: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="../page/trait.PageWriter.html" title="trait parquet::column::page::PageWriter">PageWriter</a> + 'a, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    codec: <a class="enum" href="../../basic/enum.Compression.html" title="enum parquet::basic::Compression">Compression</a>,
    compressor: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Codec, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;,
    encoder: <a class="struct" href="encoder/struct.ColumnValueEncoderImpl.html" title="struct parquet::column::writer::encoder::ColumnValueEncoderImpl">ColumnValueEncoderImpl</a>&lt;T&gt;,
    page_metrics: <a class="struct" href="struct.PageMetrics.html" title="struct parquet::column::writer::PageMetrics">PageMetrics</a>,
    column_metrics: <a class="struct" href="struct.ColumnMetrics.html" title="struct parquet::column::writer::ColumnMetrics">ColumnMetrics</a>&lt;&lt;<a class="struct" href="encoder/struct.ColumnValueEncoderImpl.html" title="struct parquet::column::writer::encoder::ColumnValueEncoderImpl">ColumnValueEncoderImpl</a>&lt;T&gt; as <a class="trait" href="encoder/trait.ColumnValueEncoder.html" title="trait parquet::column::writer::encoder::ColumnValueEncoder">ColumnValueEncoder</a>&gt;::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;,
    encodings: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/set/struct.BTreeSet.html" title="struct alloc::collections::btree::set::BTreeSet">BTreeSet</a>&lt;<a class="enum" href="../../basic/enum.Encoding.html" title="enum parquet::basic::Encoding">Encoding</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    def_levels_sink: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    rep_levels_sink: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    data_pages: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/vec_deque/struct.VecDeque.html" title="struct alloc::collections::vec_deque::VecDeque">VecDeque</a>&lt;<a class="struct" href="../page/struct.CompressedPage.html" title="struct parquet::column::page::CompressedPage">CompressedPage</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;,
    column_index_builder: <a class="struct" href="../../file/metadata/struct.ColumnIndexBuilder.html" title="struct parquet::file::metadata::ColumnIndexBuilder">ColumnIndexBuilder</a>,
    offset_index_builder: <a class="struct" href="../../file/metadata/struct.OffsetIndexBuilder.html" title="struct parquet::file::metadata::OffsetIndexBuilder">OffsetIndexBuilder</a>,
</details>}</code></pre><h2 id="fields" class="fields small-section-header">Fields<a href="#fields" class="anchor">§</a></h2><span id="structfield.descr" class="structfield small-section-header"><a href="#structfield.descr" class="anchor field">§</a><code>descr: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../schema/types/struct.ColumnDescriptor.html" title="struct parquet::schema::types::ColumnDescriptor">ColumnDescriptor</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.props" class="structfield small-section-header"><a href="#structfield.props" class="anchor field">§</a><code>props: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc">Arc</a>&lt;<a class="struct" href="../../file/properties/struct.WriterProperties.html" title="struct parquet::file::properties::WriterProperties">WriterProperties</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.statistics_enabled" class="structfield small-section-header"><a href="#structfield.statistics_enabled" class="anchor field">§</a><code>statistics_enabled: <a class="enum" href="../../file/properties/enum.EnabledStatistics.html" title="enum parquet::file::properties::EnabledStatistics">EnabledStatistics</a></code></span><span id="structfield.page_writer" class="structfield small-section-header"><a href="#structfield.page_writer" class="anchor field">§</a><code>page_writer: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="../page/trait.PageWriter.html" title="trait parquet::column::page::PageWriter">PageWriter</a> + 'a, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.codec" class="structfield small-section-header"><a href="#structfield.codec" class="anchor field">§</a><code>codec: <a class="enum" href="../../basic/enum.Compression.html" title="enum parquet::basic::Compression">Compression</a></code></span><span id="structfield.compressor" class="structfield small-section-header"><a href="#structfield.compressor" class="anchor field">§</a><code>compressor: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn Codec, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;&gt;</code></span><span id="structfield.encoder" class="structfield small-section-header"><a href="#structfield.encoder" class="anchor field">§</a><code>encoder: <a class="struct" href="encoder/struct.ColumnValueEncoderImpl.html" title="struct parquet::column::writer::encoder::ColumnValueEncoderImpl">ColumnValueEncoderImpl</a>&lt;T&gt;</code></span><span id="structfield.page_metrics" class="structfield small-section-header"><a href="#structfield.page_metrics" class="anchor field">§</a><code>page_metrics: <a class="struct" href="struct.PageMetrics.html" title="struct parquet::column::writer::PageMetrics">PageMetrics</a></code></span><span id="structfield.column_metrics" class="structfield small-section-header"><a href="#structfield.column_metrics" class="anchor field">§</a><code>column_metrics: <a class="struct" href="struct.ColumnMetrics.html" title="struct parquet::column::writer::ColumnMetrics">ColumnMetrics</a>&lt;&lt;<a class="struct" href="encoder/struct.ColumnValueEncoderImpl.html" title="struct parquet::column::writer::encoder::ColumnValueEncoderImpl">ColumnValueEncoderImpl</a>&lt;T&gt; as <a class="trait" href="encoder/trait.ColumnValueEncoder.html" title="trait parquet::column::writer::encoder::ColumnValueEncoder">ColumnValueEncoder</a>&gt;::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;</code></span><span id="structfield.encodings" class="structfield small-section-header"><a href="#structfield.encodings" class="anchor field">§</a><code>encodings: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/btree/set/struct.BTreeSet.html" title="struct alloc::collections::btree::set::BTreeSet">BTreeSet</a>&lt;<a class="enum" href="../../basic/enum.Encoding.html" title="enum parquet::basic::Encoding">Encoding</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><div class="docblock"><p>The order of encodings within the generated metadata does not impact its meaning,
but we use a BTreeSet so that the output is deterministic</p>
</div><span id="structfield.def_levels_sink" class="structfield small-section-header"><a href="#structfield.def_levels_sink" class="anchor field">§</a><code>def_levels_sink: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.rep_levels_sink" class="structfield small-section-header"><a href="#structfield.rep_levels_sink" class="anchor field">§</a><code>rep_levels_sink: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.data_pages" class="structfield small-section-header"><a href="#structfield.data_pages" class="anchor field">§</a><code>data_pages: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/collections/vec_deque/struct.VecDeque.html" title="struct alloc::collections::vec_deque::VecDeque">VecDeque</a>&lt;<a class="struct" href="../page/struct.CompressedPage.html" title="struct parquet::column::page::CompressedPage">CompressedPage</a>, <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/alloc/struct.Global.html" title="struct alloc::alloc::Global">Global</a>&gt;</code></span><span id="structfield.column_index_builder" class="structfield small-section-header"><a href="#structfield.column_index_builder" class="anchor field">§</a><code>column_index_builder: <a class="struct" href="../../file/metadata/struct.ColumnIndexBuilder.html" title="struct parquet::file::metadata::ColumnIndexBuilder">ColumnIndexBuilder</a></code></span><span id="structfield.offset_index_builder" class="structfield small-section-header"><a href="#structfield.offset_index_builder" class="anchor field">§</a><code>offset_index_builder: <a class="struct" href="../../file/metadata/struct.OffsetIndexBuilder.html" title="struct parquet::file::metadata::OffsetIndexBuilder">OffsetIndexBuilder</a></code></span><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-GenericColumnWriter%3C'a,+E%3E" class="impl"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#231-967">source</a><a href="#impl-GenericColumnWriter%3C'a,+E%3E" class="anchor">§</a><h3 class="code-header">impl&lt;'a, E: <a class="trait" href="encoder/trait.ColumnValueEncoder.html" title="trait parquet::column::writer::encoder::ColumnValueEncoder">ColumnValueEncoder</a>&gt; <a class="struct" href="struct.GenericColumnWriter.html" title="struct parquet::column::writer::GenericColumnWriter">GenericColumnWriter</a>&lt;'a, E&gt;</h3></section></summary><div class="impl-items"><section id="method.new" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#232-281">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>(
    descr: <a class="type" href="../../schema/types/type.ColumnDescPtr.html" title="type parquet::schema::types::ColumnDescPtr">ColumnDescPtr</a>,
    props: <a class="type" href="../../file/properties/type.WriterPropertiesPtr.html" title="type parquet::file::properties::WriterPropertiesPtr">WriterPropertiesPtr</a>,
    page_writer: <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/boxed/struct.Box.html" title="struct alloc::boxed::Box">Box</a>&lt;dyn <a class="trait" href="../page/trait.PageWriter.html" title="trait parquet::column::page::PageWriter">PageWriter</a> + 'a&gt;
) -&gt; Self</h4></section><section id="method.write_batch_internal" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#284-374">source</a><h4 class="code-header">pub(crate) fn <a href="#method.write_batch_internal" class="fn">write_batch_internal</a>(
    &amp;mut self,
    values: &amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.Values" title="type parquet::column::writer::encoder::ColumnValueEncoder::Values">Values</a>,
    value_indices: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>]&gt;,
    def_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    rep_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    min: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;,
    max: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;,
    distinct_count: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.write_batch" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#388-395">source</a><h4 class="code-header">pub fn <a href="#method.write_batch" class="fn">write_batch</a>(
    &amp;mut self,
    values: &amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.Values" title="type parquet::column::writer::encoder::ColumnValueEncoder::Values">Values</a>,
    def_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    rep_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;
) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Writes batch of values, definition levels and repetition levels.
Returns number of values processed (written).</p>
<p>If definition and repetition levels are provided, we write fully those levels and
select how many values to write (this number will be returned), since number of
actual written values may be smaller than provided values.</p>
<p>If only values are provided, then all values are written and the length of
of the values buffer is returned.</p>
<p>Definition and/or repetition levels can be omitted, if values are
non-nullable and/or non-repeated.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_batch_with_statistics" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#404-422">source</a><h4 class="code-header">pub fn <a href="#method.write_batch_with_statistics" class="fn">write_batch_with_statistics</a>(
    &amp;mut self,
    values: &amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.Values" title="type parquet::column::writer::encoder::ColumnValueEncoder::Values">Values</a>,
    def_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    rep_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    min: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;,
    max: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.T" title="type parquet::column::writer::encoder::ColumnValueEncoder::T">T</a>&gt;,
    distinct_count: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a>&gt;
) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Writer may optionally provide pre-calculated statistics for use when computing
chunk-level statistics</p>
<p>NB: <a href="../../file/properties/struct.WriterProperties.html#method.statistics_enabled" title="method parquet::file::properties::WriterProperties::statistics_enabled"><code>WriterProperties::statistics_enabled</code></a> must be set to <a href="../../file/properties/enum.EnabledStatistics.html#variant.Chunk" title="variant parquet::file::properties::EnabledStatistics::Chunk"><code>EnabledStatistics::Chunk</code></a>
for these statistics to take effect. If <a href="../../file/properties/enum.EnabledStatistics.html#variant.None" title="variant parquet::file::properties::EnabledStatistics::None"><code>EnabledStatistics::None</code></a> they will be ignored,
and if <a href="../../file/properties/enum.EnabledStatistics.html#variant.Page" title="variant parquet::file::properties::EnabledStatistics::Page"><code>EnabledStatistics::Page</code></a> the chunk statistics will instead be computed from the
computed page statistics</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_total_bytes_written" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#429-431">source</a><h4 class="code-header">pub fn <a href="#method.get_total_bytes_written" class="fn">get_total_bytes_written</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section></summary><div class="docblock"><p>Returns total number of bytes written by this column writer so far.
This value is also returned when column writer is closed.</p>
<p>Note: this value does not include any buffered data that has not
yet been flushed to a page.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_estimated_total_bytes" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#438-442">source</a><h4 class="code-header">pub(crate) fn <a href="#method.get_estimated_total_bytes" class="fn">get_estimated_total_bytes</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section></summary><div class="docblock"><p>Returns the estimated total bytes for this column writer</p>
<p>Unlike <a href="struct.GenericColumnWriter.html#method.get_total_bytes_written" title="method parquet::column::writer::GenericColumnWriter::get_total_bytes_written"><code>Self::get_total_bytes_written</code></a> this includes an estimate
of any data that has not yet been flushed to a page</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_total_rows_written" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#446-448">source</a><h4 class="code-header">pub fn <a href="#method.get_total_rows_written" class="fn">get_total_rows_written</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u64.html">u64</a></h4></section></summary><div class="docblock"><p>Returns total number of rows written by this column writer so far.
This value is also returned when column writer is closed.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.get_descriptor" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#451-453">source</a><h4 class="code-header">pub fn <a href="#method.get_descriptor" class="fn">get_descriptor</a>(&amp;self) -&gt; &amp;<a class="type" href="../../schema/types/type.ColumnDescPtr.html" title="type parquet::schema::types::ColumnDescPtr">ColumnDescPtr</a></h4></section></summary><div class="docblock"><p>Returns a reference to a <a href="../../schema/types/type.ColumnDescPtr.html" title="type parquet::schema::types::ColumnDescPtr"><code>ColumnDescPtr</code></a></p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.close" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#457-482">source</a><h4 class="code-header">pub fn <a href="#method.close" class="fn">close</a>(self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="struct" href="struct.ColumnCloseResult.html" title="struct parquet::column::writer::ColumnCloseResult">ColumnCloseResult</a>&gt;</h4></section></summary><div class="docblock"><p>Finalizes writes and closes the column writer.
Returns total bytes written, total rows written and column chunk metadata.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_mini_batch" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#487-569">source</a><h4 class="code-header">fn <a href="#method.write_mini_batch" class="fn">write_mini_batch</a>(
    &amp;mut self,
    values: &amp;E::<a class="associatedtype" href="encoder/trait.ColumnValueEncoder.html#associatedtype.Values" title="type parquet::column::writer::encoder::ColumnValueEncoder::Values">Values</a>,
    values_offset: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    value_indices: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>]&gt;,
    num_levels: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>,
    def_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;,
    rep_levels: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>]&gt;
) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>&gt;</h4></section></summary><div class="docblock"><p>Writes mini batch of values, definition and repetition levels.
This allows fine-grained processing of values and maintaining a reasonable
page size.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.should_dict_fallback" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#576-581">source</a><h4 class="code-header">fn <a href="#method.should_dict_fallback" class="fn">should_dict_fallback</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if we need to fall back to non-dictionary encoding.</p>
<p>We can only fall back if dictionary encoder is set and we have exceeded dictionary
size.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.should_add_data_page" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#585-596">source</a><h4 class="code-header">fn <a href="#method.should_add_data_page" class="fn">should_add_data_page</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns true if there is enough data for a data page, false otherwise.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.dict_fallback" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#600-608">source</a><h4 class="code-header">fn <a href="#method.dict_fallback" class="fn">dict_fallback</a>(&amp;mut self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Performs dictionary fallback.
Prepares and writes dictionary and all data pages into page writer.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.update_column_offset_index" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#611-657">source</a><h4 class="code-header">fn <a href="#method.update_column_offset_index" class="fn">update_column_offset_index</a>(&amp;mut self, page_statistics: <a class="enum" href="https://doc.rust-lang.org/nightly/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;&amp;<a class="enum" href="../../file/statistics/enum.Statistics.html" title="enum parquet::file::statistics::Statistics">Statistics</a>&gt;)</h4></section></summary><div class="docblock"><p>Update the column index and offset index when adding the data page</p>
</div></details><section id="method.truncate_min_value" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#659-668">source</a><h4 class="code-header">fn <a href="#method.truncate_min_value" class="fn">truncate_min_value</a>(&amp;self, data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h4></section><section id="method.truncate_max_value" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#670-679">source</a><h4 class="code-header">fn <a href="#method.truncate_max_value" class="fn">truncate_max_value</a>(&amp;self, data: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>]) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h4></section><details class="toggle method-toggle" open><summary><section id="method.add_data_page" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#683-814">source</a><h4 class="code-header">fn <a href="#method.add_data_page" class="fn">add_data_page</a>(&amp;mut self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Adds data page.
Data page is either buffered in case of dictionary encoding or written directly.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.flush_data_pages" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#819-830">source</a><h4 class="code-header">fn <a href="#method.flush_data_pages" class="fn">flush_data_pages</a>(&amp;mut self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Finalises any outstanding data pages and flushes buffered data pages from
dictionary encoding into underlying sink.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_column_metadata" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#833-878">source</a><h4 class="code-header">fn <a href="#method.write_column_metadata" class="fn">write_column_metadata</a>(&amp;mut self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="struct" href="../../file/metadata/struct.ColumnChunkMetaData.html" title="struct parquet::file::metadata::ColumnChunkMetaData">ColumnChunkMetaData</a>&gt;</h4></section></summary><div class="docblock"><p>Assembles and writes column chunk metadata.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.encode_levels_v1" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#882-886">source</a><h4 class="code-header">fn <a href="#method.encode_levels_v1" class="fn">encode_levels_v1</a>(
    &amp;self,
    encoding: <a class="enum" href="../../basic/enum.Encoding.html" title="enum parquet::basic::Encoding">Encoding</a>,
    levels: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>],
    max_level: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>
) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h4></section></summary><div class="docblock"><p>Encodes definition or repetition levels for Data Page v1.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.encode_levels_v2" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#891-895">source</a><h4 class="code-header">fn <a href="#method.encode_levels_v2" class="fn">encode_levels_v2</a>(&amp;self, levels: &amp;[<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>], max_level: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i16.html">i16</a>) -&gt; <a class="struct" href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a>&gt;</h4></section></summary><div class="docblock"><p>Encodes definition or repetition levels for Data Page v2.
Encoding is always RLE.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_data_page" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#899-908">source</a><h4 class="code-header">fn <a href="#method.write_data_page" class="fn">write_data_page</a>(&amp;mut self, page: <a class="struct" href="../page/struct.CompressedPage.html" title="struct parquet::column::page::CompressedPage">CompressedPage</a>) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes compressed data page into underlying sink and updates global metrics.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.write_dictionary_page" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#912-941">source</a><h4 class="code-header">fn <a href="#method.write_dictionary_page" class="fn">write_dictionary_page</a>(&amp;mut self) -&gt; <a class="type" href="../../errors/type.Result.html" title="type parquet::errors::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Writes dictionary page into underlying sink.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.update_metrics_for_page" class="method"><a class="src rightside" href="../../../src/parquet/column/writer/mod.rs.html#945-966">source</a><h4 class="code-header">fn <a href="#method.update_metrics_for_page" class="fn">update_metrics_for_page</a>(&amp;mut self, page_spec: <a class="struct" href="../page/struct.PageWriteSpec.html" title="struct parquet::column::page::PageWriteSpec">PageWriteSpec</a>)</h4></section></summary><div class="docblock"><p>Updates column writer metrics with each page metadata.</p>
</div></details></div></details></div></section></div></main></body></html>